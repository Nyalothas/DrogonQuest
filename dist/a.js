var DrogonQuest={init:function(){var d,a,m=new Image,n=new Image,g=[],p,c,k,u=0,l=document.getElementById("m"),v=function(b){b=document.getElementById(b);b.width=e;b.height=h;return b},q=function(b,a,c,d,e){e=void 0===e?20:e;b.fillStyle=d;b.fillRect(a,c,e,e)},w=function(){var b=l.children;if(1>u)var a="Welcome! Use WASD or the Arrow keys to move";else a="You did great ... but you died! \ud83d\ude22",b[1].innerText="EatenGoats: "+p;b[0].innerText=a;l.classList.toggle("n")},B=function(b){return b.filter(function(b,
a,c){return!a||b!=c[a-1]})},x=function(){d.splice(0,0,[a[0],a[1]]);f.drawImage(m,a[0],a[1],20,20);q(f,d[1][0],d[1][1],"#962938");var b=d.pop();q(f,b[0],b[1],0===(b[0]+b[1])%40?"#36c657":"#2cb251")},z=function(b,a){for(var c=null;null===c||0<=a.indexOf(c);)c=20*Math.floor(Math.random()*b/20);return c},r=function(){var b=d.reduce(function(b,a){return b.concat(a)}).sort();b=B(b);g=[z(e,b),z(h,b)];f.drawImage(n,g[0],g[1],20,20)},A=function(){d=[[100,60],[80,60],[60,60]];a=[100,60];c=2;p=0;k=!1},C=function(b){switch(b.keyCode){case 38:case 87:1!==
c&&(c=0);break;case 37:case 65:2!==c&&(c=3);break;case 40:case 83:0!==c&&(c=1);break;case 39:case 68:3!==c&&(c=2)}},D=function(){setInterval(function(){if(!k){x();switch(c){case 1:a[1]+=20;break;case 0:a[1]-=20;break;case 3:a[0]-=20;break;case 2:a[0]+=20}a[0]===e&&2===c?a[0]=0:a[1]===h&&1===c?a[1]=0:0>a[1]&&0===c?a[1]=h-20:0>a[0]&&3===c&&(a[0]=e-20);for(var b=2;b<d.length;b++){var f=d[b];if(a[0]===f[0]&&a[1]===f[1]){k=!0;w();break}}a[0]===g[0]&&a[1]===g[1]&&(r(),p++,d.splice(1,0,d[1]))}},33)};(function(){document.addEventListener("keydown",
C);document.addEventListener("mousedown",function(){k?(f.clearRect(0,0,t.width,t.height),A(),l.classList.toggle("n"),r()):1>u++&&(l.classList.toggle("n"),D())})})();var e=10*Math.round(window.innerWidth/10);var h=10*Math.round(window.innerHeight/10);0!==e%20&&(e-=10);0!==h%20&&(h-=10);e-=40;h-=40;A();(function(b){var a=h/20,c=e/20,d=y=0;b.fillStyle="#2cb251";b.fillRect(d,y,e,h);for(var f=0;f<=a;f++){for(var g=0;g<c;g++)0==(f+g)%2&&q(b,d,y,"#36c657"),d+=20;d=0;y+=20}})(v("b").getContext("2d"));var t=
v("f");var f=t.getContext("2d");n.onload=r;n.src="./g.png";m.onload=x;m.src="./d.png";w();return{init:void 0}}};DrogonQuest.init();
